# ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ä»˜ä¸ã™ã‚‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

`flutterfire_gen` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ Cloud Firestore ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚¹ã‚­ãƒ¼ãƒã‚’å®šç¾©ã—ã¾ã™ãŒã€å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å®šç¾©ã«ã¯æ§˜ã€…ãªã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ä¸ã—ã¦ã€å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å¯¾ã™ã‚‹ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã®æŒ¯ã‚‹èˆã„ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## Default å€¤ã‚’è¨­å®šã™ã‚‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

`flutterfire_gen` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯ã€èª­ã¿å–ã‚Šã€ä½œæˆã€æ›´æ–°ï¼ˆã€å‰Šé™¤ï¼‰ã®å„æ“ä½œã«æœ€é©ãªç•°ãªã‚‹å‡¦ç†ã‚’ç”Ÿæˆã—ã¾ã™ã€‚

Default å€¤ã‚‚ã€èª­ã¿å–ã‚Šã€ä½œæˆã€æ›´æ–°ã®å„æ“ä½œã«å¯¾ã—ã¦ãã‚Œãã‚Œè¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### èª­ã¿å–ã‚Šæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«å€¤ã‚’è¨­å®šã™ã‚‹

èª­ã¿å–ã‚Šæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯ `@ReadDefalut` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§è¨­å®šã—ã¾ã™ã€‚

ä¸‹è¨˜ã§ã¯ `todos` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® `isCompleted` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã« `@ReadDefault(false)` ã‚’ä»˜ä¸ã—ã¦ã„ã¾ã™ã€‚

ã“ã†ã™ã‚‹ã“ã¨ã§ã€`todo` ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®èª­ã¿å–ã‚Šæ™‚ã«ã€`isCompleted` ãŒ `null` ã®å ´åˆã«ã¯ä»£ã‚ã‚Šã« `false` ãŒæ ¼ç´ã•ã‚Œã¾ã™ã€‚

```dart title="todo.dart"
import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:flutterfire_gen_annotation/flutterfire_gen_annotation.dart';

part 'todo.flutterfire_gen.dart';

@FirestoreDocument(path: 'todos/{todoId}')
class Todo {
  const Todo({
    required this.isCompleted,
  });

  @ReadDefault(false)
  final bool isCompleted;
}
```

`isCompleted` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ã€Cloud Firestore ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã—ã¦ã¯ null ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã£ã¦ã‚‚ã€Flutter/Dart ã§ã¯ non-nullable ãª `bool` å‹ã¨ã—ã¦æ‰±ã„ãŸã„ã€`null` ã®å ´åˆã«ã¯ `false` ã¨ã™ã‚Œã°å•é¡Œãªã„ã¨ã„ã†å ´åˆã«ä¾¿åˆ©ã§ã™ã€‚

### ä½œæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã™ã‚‹

ä½œæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯ `@CreateDefault` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§è¨­å®šã—ã¾ã™ã€‚

ä¸‹è¨˜ã§ã¯ `counters` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® `value` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã« `@CreateDefault(0)` ã‚’ä»˜ä¸ã—ã¦ã„ã¾ã™ã€‚

ã“ã†ã™ã‚‹ã“ã¨ã§ã€`counter` ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆæ™‚ã«ã€`value` ã«ç‰¹ã«å€¤ã‚’æŒ‡å®šã—ãªã‘ã‚Œã° `0` ãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚

```dart title="counter.dart"
import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:flutterfire_gen_annotation/flutterfire_gen_annotation.dart';

part 'counter.flutterfire_gen.dart';

@FirestoreDocument(path: 'counters/{counterId}')
class Counter {
  const Counter({
    required this.value,
  });

  @CreateDefault(0)
  final int value;
}
```

ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ã«ã€`counters` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹éš›ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã‚ã‚‹ `CreateCounter` å‹ã« `value` ã®å€¤ã‚’ä¸ãˆãªã‘ã‚Œã°ã€`value` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ `0` ã¨ã—ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒä½œæˆã•ã‚Œã¾ã™ã€‚

```dart
final query = CounterQuery();
final DocumentReference<CreateCounter> documentReference =
    await query.add(createCounter: const CreateCounter());
```

ã‚‚ã¡ã‚ã‚“ `value` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å€¤ã‚’ä¸ãˆã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ãã®å ´åˆã¯ã€ãã®å€¤ãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚

```dart
final query = CounterQuery();
final DocumentReference<CreateCounter> documentReference =
    await query.add(createCounter: const CreateCounter(value: 1));
```

### æ›´æ–°æ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã‚’è¨­å®šã™ã‚‹

æ›´æ–°æ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯ `@UpdateDefault` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§è¨­å®šã—ã¾ã™ã€‚

ä¸‹è¨˜ã§ã¯ `messages` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® `isEdited` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã« `@UpdateDefault(true)` ã‚’ä»˜ä¸ã—ã¦ã„ã¾ã™ã€‚

ã“ã†ã™ã‚‹ã“ã¨ã§ã€`message` ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°æ™‚ã«ã€`isEdited` ã«ç‰¹ã«å€¤ã‚’æŒ‡å®šã—ãªã‘ã‚Œã° `true` ãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚

```dart title="message.dart"
import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:flutterfire_gen_annotation/flutterfire_gen_annotation.dart';

part 'message.flutterfire_gen.dart';

@FirestoreDocument(path: 'messages/{messageId}')
class Message {
  const Message({
    required this.content,
    required this.value,
  });

  final String content,

  @UpdateDefault(true)
  final bool isEdited;
}
```

ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ã«ã€`messages` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã™ã‚‹éš›ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã‚ã‚‹ `UpdateMessage` å‹ã« `isEdited` ã®å€¤ã‚’ä¸ãˆãªã‘ã‚Œã°ã€`isEdited` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ `true` ã¨ã—ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ›´æ–°ã•ã‚Œã¾ã™ã€‚

```dart
final query = MessageQuery();
await query.update(
  messageId: 'messageId',
  updateMessage: const UpdateMessage(
    content: 'An updated content',
  ),
);
```

ã‚‚ã¡ã‚ã‚“ `isEdited` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«å€¤ã‚’ä¸ãˆã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ãã®å ´åˆã¯ã€ãã®å€¤ãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚

```dart
final query = MessageQuery();
await query.update(
  messageId: 'messageId',
  updateMessage: const UpdateMessage(
    content: 'An updated content',
    isEdited: false,
  ),
);
```

## FieldValue ã§æ›¸ãè¾¼ã‚€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

Cloud Firestore ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ãŸã‚Šæ›´æ–°ã—ãŸã‚Šã™ã‚‹éš›ã«ã¯ã€å®Ÿéš›ã«ä¿å­˜ã•ã‚Œã‚‹å€¤ãã®ã‚‚ã®ã‚’æŒ‡å®šã™ã‚‹ä»¥å¤–ã«ã‚‚ã€`FieldValue` ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

`flutterfire_gen` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã‚‚ã€ãã‚Œã«å¯¾å¿œã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

`flutterfire_gen` ã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã§ `FieldValue` ã‚’ä½¿ç”¨ã—ãŸæ›¸ãè¾¼ã¿ã‚’è¡Œã„ãŸã„å ´åˆã«ã¯ã€`flutterfire_gen_utils` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ import ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```diff
import 'package:cloud_firestore/cloud_firestore.dart';
+ import 'package:flutterfire_gen_utils/flutterfire_gen_utils.dart';
import 'package:flutterfire_gen_annotation/flutterfire_gen_annotation.dart';

part 'counter.flutterfire_gen.dart';

/** omitted */
```

`counters` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® `value` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã€å®Ÿéš›ã®æ•´æ•°å€¤ã§ã‚‚ `FieldValue` ã§ã‚‚æ›¸ãè¾¼ã‚ã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã€`@allowFieldValue` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ä¸ã—ã¦ã„ã¾ã™ã€‚

```dart title="counter.dart"
import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:flutterfire_gen_utils/flutterfire_gen_utils.dart';
import 'package:flutterfire_gen_annotation/flutterfire_gen_annotation.dart';

part 'counter.flutterfire_gen.dart';

@FirestoreDocument(path: 'counters/{counterId}')
class Counter {
  const Counter({
    required this.value,
  });

  @allowFieldValue
  final int value;
}
```

`counters` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® `value` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å®Ÿéš›ã®å€¤ï¼ˆä¾‹ï¼š`1`ï¼‰ã§æ›´æ–°ã—ãŸã„å ´åˆã«ã¯ã€`ActualValue` å‹ã‚’ä¸ãˆã¾ã™ã€‚

```dart
final query = CounterQuery();
await query.update(
  counterId: 'counterId',
  updateCounter: const UpdateCounter(value: ActualValue<int>(1)),
);
```

`counters` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã® `value` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã€ç¾åœ¨ã®å€¤ã« `1` åŠ ç®—ã—ãŸå€¤ã§æ›´æ–°ã—ãŸã„å ´åˆã«ã¯ `FieldValueData` å‹ã‚’ä¸ãˆã¾ã™ã€‚

```dart
final query = CounterQuery();
await query.update(
  counterId: 'counterId',
  updateCounter: UpdateCounter(value: FieldValueData(FieldValue.increment(1))),
);
```

ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã‚’è¡Œã† `Counter` ã‚¯ãƒ©ã‚¹ã§ã¯å˜ãªã‚‹ `int` å‹ã§ `value` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ãŒã€`flutterfire_gen` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯ã€èª­ã¿å–ã‚Šã€ä½œæˆã€æ›´æ–°ï¼ˆã€å‰Šé™¤ï¼‰ã®å„æ“ä½œã«æœ€é©ãªå‡¦ç†ã‚„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’åˆ¥ã€…ã«ç”Ÿæˆã™ã‚‹ã®ã§ã€å¯¾è±¡ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã« `@allowFieldValue` ã‚’ä¸ãˆã‚‹ã“ã¨ã§ã€ã“ã®ã‚ˆã†ã« `FieldValue` ã‚’ä½¿ç”¨ã—ãŸæ›¸ãè¾¼ã¿ã«ã‚‚å¯¾å¿œã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## æ›¸ãè¾¼ã¿æ™‚ã«è‡ªå‹•ã§ã‚µãƒ¼ãƒæ™‚é–“ã‚’ä½¿ç”¨ã™ã‚‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆæ™‚ã‚„æ›´æ–°æ™‚ã«ã¯ã€`createdAt` ã‚„ `updatedAt` ã®ã‚ˆã†ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã‚µãƒ¼ãƒæ™‚é–“ã‚’è‡ªå‹•ã§é©ç”¨ã—ãŸã„å ´åˆãŒé »ç¹ã«ã‚ã‚Šã¾ã™ã€‚

`FieldValue.serverTimestamp()` ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã‚µãƒ¼ãƒæ™‚é–“ã‚’è‡ªå‹•ã§é©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€`flutterfire_gen` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯ã€`@alwaysUseFieldValueServerTimestampWhenCreating` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ `@alwaysUseFieldValueServerTimestampWhenUpdating` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã§ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆæ™‚ã‚„æ›´æ–°æ™‚ã«ã¯ãã‚Œã‚’æ„è­˜ã—ãªã„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ãŸã¨ãˆã°ä¸‹è¨˜ã§ã¯ã€`todos` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã‚’ã—ã¦ã„ã¾ã™ã€‚

```dart title="todo.dart"
import 'package:cloud_firestore/cloud_firestore.dart';
import 'package:flutterfire_gen_annotation/flutterfire_gen_annotation.dart';

part 'todo.flutterfire_gen.dart';

@FirestoreDocument(path: 'todos/{todoId}')
class Todo {
  const Todo({
    required this.title,
    required this.createdAt,
    required this.updatedAt,
  });

  final String title;

  @alwaysUseFieldValueServerTimestampWhenCreating
  final DateTime? createdAt;

  @alwaysUseFieldValueServerTimestampWhenCreating
  @alwaysUseFieldValueServerTimestampWhenUpdating
  final DateTime? updatedAt;
}
```

`todos` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆæ™‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã‚ã‚‹ `CreateTodo` ã«ã¯ `createdAt` ã‚„ `updatedAt` ã‚’é©ç”¨ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã®å†…éƒ¨ã§è‡ªå‹•ã§ `FieldValue.serverTimestamp()` ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚

```dart
final query = TodoQuery();
final DocumentReference<CreateTodo> documentReference = await query.add(
  createTodo: const CreateTodo(title: 'A new todo title'),
);
```

åŒæ§˜ã«ã€`todos` ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°æ™‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã‚ã‚‹ `UpdateTodo` ã«ã¯ `updatedAt` ã‚’é©ç”¨ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã®å†…éƒ¨ã§è‡ªå‹•ã§ `FieldValue.serverTimestamp()` ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚

`createdAt` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã¯ã€æ›´æ–°æ™‚ã«ã‚µãƒ¼ãƒæ™‚é–“ã‚’è‡ªå‹•ã§é©ç”¨ã™ã‚‹ãŸã‚ã® `@alwaysUseFieldValueServerTimestampWhenUpdating` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯ä»˜ä¸ã•ã‚Œã¦ã„ãªã„ã®ã§ã€æ‰€æœ›ã®å€¤ã§æ›´æ–°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```dart
final query = TodoQuery();
await query.update(
  todoId: 'todoId',
  updateTodo: UpdateTodo(
    title: 'An updated todo title',
    createdAt: DateTime(1970),
  ),
);
```

ã¾ãŸã€é€šå¸¸ Dart ã® `DateTime` å‹ã¨ Cloud Firestore ã® `Timestamp` å‹ã¨ã®é–“ã®å¤‰æ›ã«ã¯ `JsonConverter` ã®é©ç”¨ãŒå¿…è¦ã§ã™ãŒã€`flutterfire_gen` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯è‡ªå‹•ã§ãã®å¤‰æ›ãŒè¡Œã‚ã‚Œã¾ã™ã€‚

## JsonConverter ã‚’é©ç”¨ã™ã‚‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

`flutterfire_gen` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§ã¯ã€Dart ã§å–ã‚Šæ‰±ã†å‹ã¨ Cloud Firestore ã§å–ã‚Šæ‰±ã†å‹ã¨ã®é–“ã®å¤‰æ›ã‚’è¡Œã†ãŸã‚ã«ã€`JsonConverter` ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã‚ãªãŸã® `pubspec.yaml` ã«äºˆã‚ `json_annotation` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚

```yaml title="pubspec.yaml"
dependencies:
  json_annotation:
```

ä½¿ç”¨æ–¹æ³•ã«ã¤ã„ã¦ã¯ [json_annotation](https://pub.dev/packages/json_annotation) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## JsonPostProcessor ã‚’é©ç”¨ã™ã‚‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

ğŸš§ğŸš§ğŸš§ æº–å‚™ä¸­ã§ã™ ğŸš§ğŸš§ğŸš§
